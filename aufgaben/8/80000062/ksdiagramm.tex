%
% ksdiagramm.tex -- template for standalon tikz images
%
% (c) 2021 Prof Dr Andreas MÃ¼ller, OST Ostschweizer Fachhochschule
%
\documentclass[tikz]{standalone}
\usepackage{amsmath}
\usepackage{times}
\usepackage{txfonts}
\usepackage{pgfplots}
\usepackage{csvsimple}
\definecolor{darkgreen}{rgb}{0,0.6,0}
\definecolor{darkred}{rgb}{0.8,0,0}
\usetikzlibrary{arrows,intersections,math}
\begin{document}
\def\skala{1}
\begin{tikzpicture}[>=latex,thick,scale=\skala]
\def\h{10}
\pgfmathparse{\h/10}
\xdef\s{\pgfmathresult}
\foreach \y in {1,...,9}{
	\draw[line width=0.5pt] (0,{\y*\s}) -- ++(\h,0);
	\draw[line width=0.5pt] ({\y*\s},0) -- ++(0,\h);
}
\begin{scope}
\clip (0,0) rectangle (\h,\h);
\foreach \x in {0,...,9}{
	\foreach \y in {0,...,10}{
		\foreach \u in {1,...,4}{
			\draw[line width=0.2pt]
				({(\x+\u/10)*\s},{\y*\s-0.025})
				-- ++(0,0.05);
			\draw[line width=0.2pt]
				({(\x+(\u+5)/10)*\s},{\y*\s-0.025})
				-- ++(0,0.05);
		}
		\draw[line width=0.3pt]
			({(\x+5/10)*\s},{\y*\s-0.035}) -- ++(0,0.07);
	}
}
\foreach \y in {0,...,9}{
	\foreach \x in {0,...,10}{
		\foreach \u in {1,...,4}{
			\draw[line width=0.2pt]
				({\x*\s-0.025},{(\y+\u/10)*\s})
				-- ++(0.05,0);
			\draw[line width=0.2pt]
				({\x*\s-0.025},{(\y+(\u+5)/10)*\s})
				-- ++(0.05,0);
		}
		\draw[line width=0.3pt]
			({\x*\s-0.035},{(\y+5/10)*\s}) -- ++(0.07,0);
	}
}
\end{scope}

\foreach \x in {0,...,10}{
	\pgfmathparse{\x/10}
	\xdef\w{\pgfmathresult}
	\node at ({\x*\s},0) [below] {${\pgfmathprintnumber[fixed,precision=1]{\w}}$};
	\node at (0,{\x*\s}) [left] {${\pgfmathprintnumber[fixed,precision=1]{\w}}$};
}

\draw[color=darkgreen] (0,0) -- (\h,\h);
\draw (\h,0) -- (\h,\h) -- (0,\h);
\draw[->] (-0.1,0) -- ({\h+0.3},0) coordinate[label={$x$}];
\draw[->] (0,-0.1) -- (0,{\h+0.3}) coordinate[label={$F(x)$}];

\node at ({0.5*\h},{\h+1}) {Kolmogorov-Smirnov-Diagramm \qquad (P-P-Plot)};

\end{tikzpicture}
\end{document}

